{"version":3,"sources":["01_main.js"],"names":["TELEGRAM_BOT_TOKEN","TELEGRAM_CHAT_ID","API","sendTelegram","async","name","phone","email","console","log","text","response","fetch","method","headers","Content-Type","body","JSON","stringify","chat_id","ok","Error","statusText","alert","error","formBtn","textContent","formValidate","userName","document","querySelector","userPhone","userEmail","regexpPhone","regexpEmail","value","test"],"mappings":"AAAA,aAEA,MAAMA,mBAAqB,iDACrBC,iBAAmB,sBACnBC,IAAM,+BAA+BF,iCAErCG,aAAeC,MAAOC,EAAMC,EAAOC,KAEvCC,QAAQC,IAAIJ,EAAMC,EAAOC,GACzB,MAAMG,EAAO,aAAaL,cAAiBE,eAAmBD,IAC9DE,QAAQC,IAAIC,GACZ,IACE,MAAMC,QAAiBC,MAAMV,IAAK,CAChCW,OAAQ,OACRC,QAAS,CACPC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,QAASlB,iBACTS,KAAAA,MAIJ,IAAIC,EAASS,GAGX,MAAM,IAAIC,MAAMV,EAASW,YAFzBC,MAAM,kCAIRf,QAAQC,IAAIe,OACZ,MAAOA,GACPhB,QAAQgB,MAAMA,GACdD,MAAM,2CACN,QACAE,QAAQC,YAAc,cAIpBC,aAAe,KACnB,MAAMC,EAAWC,SAASC,cAAc,cAClCC,EAAYF,SAASC,cAAc,eACnCE,EAAYH,SAASC,cAAc,eACnCG,EAAc,uBACdC,EAAc,yDACpB/B,aAAayB,EAASO,MAAOJ,EAAUI,MAAOH,EAAUG,OAEjC,KAAnBP,EAASO,OAAoC,KAApBJ,EAAUI,OAAgBH,EAAUG,OAC/DD,EAAYE,KAAKJ,EAAUG,OACtBF,EAAYG,KAAKL,EAAUI,QACzBD,EAAYE,KAAKJ,EAAUG,QAC9BhC,aAAayB,EAASO,MAAOJ,EAAUI,MAAOH,EAAUG,QAI5DZ,MAAM","file":"../js/main.min.js","sourcesContent":["\"use strict\";\r\n\r\nconst TELEGRAM_BOT_TOKEN = \"7346201764:AAEHwMHDxpz1HrbBhuGS1gtQ47ACv9Q_31c\";\r\nconst TELEGRAM_CHAT_ID = \"@testerRGBBotGROUPE\";\r\nconst API = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;\r\n\r\nconst sendTelegram = async (name, phone, email) => {\r\n  // testerRGBBot\r\n  console.log(name, phone, email);\r\n  const text = `Заявка от ${name}!\\nEmail: ${email}\\nТелефон: ${phone}`;\r\n  console.log(text);\r\n  try {\r\n    const response = await fetch(API, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        chat_id: TELEGRAM_CHAT_ID,\r\n        text,\r\n      }),\r\n    });\r\n\r\n    if (response.ok) {\r\n      alert(\"Ваша заявка успешно отправлена\");\r\n    } else {\r\n      throw new Error(response.statusText);\r\n    }\r\n    console.log(error);\r\n  } catch (error) {\r\n    console.error(error);\r\n    alert(\"Анкета не отправлена! Попробуйте позже.\");\r\n  } finally {\r\n    formBtn.textContent = \"Отправить\";\r\n  }\r\n};\r\n\r\nconst formValidate = () => {\r\n  const userName = document.querySelector(\".user-name\");\r\n  const userPhone = document.querySelector(\".user-phone\");\r\n  const userEmail = document.querySelector(\".user-email\");\r\n  const regexpPhone = /^(\\+3|)[0-9]{10,11}$/;\r\n  const regexpEmail = /[^|\\w](\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*)/gm;\r\n  sendTelegram(userName.value, userPhone.value, userEmail.value);\r\n\r\n  if (userName.value !== \"\" && userPhone.value !== \"\" && userEmail.value) {\r\n    regexpEmail.test(userEmail.value);\r\n    if (!regexpPhone.test(userPhone.value)) {\r\n      if (!regexpEmail.test(userEmail.value)) {\r\n        sendTelegram(userName.value, userPhone.value, userEmail.value);\r\n      }\r\n    }\r\n  } else {\r\n    alert(\"Заполните форму\");\r\n  }\r\n};\r\n"]}