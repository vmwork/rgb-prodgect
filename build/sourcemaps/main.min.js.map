{"version":3,"sources":["01_main.js"],"names":["TELEGRAM_BOT_TOKEN","TELEGRAM_CHAT_ID","API","sendTelegram","async","name","phone","email","text","response","fetch","method","headers","Content-Type","body","JSON","stringify","chat_id","ok","Error","statusText","alert","error","console","validateEmail","test","String","toLowerCase","validatePhone","formValidate","userName","document","querySelector","userPhone","userEmail","value"],"mappings":"AAAA,aAEA,MAAMA,mBAAqB,iDACrBC,iBAAmB,sBACnBC,IAAM,+BAA+BF,iCAErCG,aAAeC,MAAOC,EAAMC,EAAOC,KAEvC,MAAMC,EAAO,aAAaH,cAAiBE,eAAmBD,IAC9D,IACE,MAAMG,QAAiBC,MAAMR,IAAK,CAChCS,OAAQ,OACRC,QAAS,CACPC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,QAAShB,iBACTO,KAAAA,MAIJ,IAAIC,EAASS,GAGX,MAAM,IAAIC,MAAMV,EAASW,YAFzBC,MAAM,kCAIR,MAAOC,GACPC,QAAQD,MAAMA,GACdD,MAAM,6CAGJG,cAAiBjB,GAEnB,wIACQkB,KAAKC,OAAOnB,GAAOoB,eAEzBC,cAAiBtB,GACZ,uBACCmB,KAAKC,OAAOpB,GAAOqB,eAGzBE,aAAe,KACnB,MAAMC,EAAWC,SAASC,cAAc,cAClCC,EAAYF,SAASC,cAAc,eACnCE,EAAYH,SAASC,cAAc,eAbrB,IAACzB,EAKAD,EAWE,KAAnBwB,EAASK,QAXQ7B,EAYD2B,EAAUE,MAXrB,uBACCV,KAAKC,OAAOpB,GAAOqB,iBAPRpB,EAkBC2B,EAAUC,MAhB9B,wIACQV,KAAKC,OAAOnB,GAAOoB,iBAgBvBxB,aAAa2B,EAASK,MAAOF,EAAUE,MAAOD,EAAUC,OAK9Dd,MAAM","file":"../js/main.min.js","sourcesContent":["\"use strict\";\r\n\r\nconst TELEGRAM_BOT_TOKEN = \"7346201764:AAEHwMHDxpz1HrbBhuGS1gtQ47ACv9Q_31c\";\r\nconst TELEGRAM_CHAT_ID = \"@testerRGBBotGROUPE\";\r\nconst API = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;\r\n\r\nconst sendTelegram = async (name, phone, email) => {\r\n  // testerRGBBot\r\n  const text = `Заявка от ${name}!\\nEmail: ${email}\\nТелефон: ${phone}`;\r\n  try {\r\n    const response = await fetch(API, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        chat_id: TELEGRAM_CHAT_ID,\r\n        text,\r\n      }),\r\n    });\r\n\r\n    if (response.ok) {\r\n      alert(\"Ваша заявка успешно отправлена\");\r\n    } else {\r\n      throw new Error(response.statusText);\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    alert(\"Анкета не отправлена! Попробуйте позже.\");\r\n  }\r\n};\r\nconst validateEmail = (email) => {\r\n  var re =\r\n    /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n  return re.test(String(email).toLowerCase());\r\n};\r\nconst validatePhone = (phone) => {\r\n  var re = /^(\\+3|)[0-9]{10,11}$/;\r\n  return re.test(String(phone).toLowerCase());\r\n};\r\n\r\nconst formValidate = () => {\r\n  const userName = document.querySelector(\".user-name\");\r\n  const userPhone = document.querySelector(\".user-phone\");\r\n  const userEmail = document.querySelector(\".user-email\");\r\n  const regexpPhone = /^(\\+3|)[0-9]{10,11}$/;\r\n\r\n  if (userName.value !== \"\") {\r\n    if (validatePhone(userPhone.value)) {\r\n      if (validateEmail(userEmail.value)) {\r\n        sendTelegram(userName.value, userPhone.value, userEmail.value);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  alert(\"Заполните форму\");\r\n};\r\n"]}